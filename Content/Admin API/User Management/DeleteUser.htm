<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="10" MadCap:lastHeight="1406" MadCap:lastWidth="775">
    <head>
    </head>
    <body>
        <h1>DELETE User</h1>
        <p class="TopicTag" MadCap:conditions="General.Online">[Admin API Method]</p>
        <p>Use this Admin API method to delete a specified user from the system. The user will be removed from his group; his security credentials will be deleted; and his S3 buckets and stored objects will be deleted. <b>Once deleted, a user’s buckets and objects will not be recoverable.</b></p>
        <p>Note that the operations associated with deleting a user are performed asynchronously. If you receive an OK response to a <code>DELETE /user</code> request, this indicates that the user’s status has successfully transitioned to "deleting", and the associated operations are underway.  </p>
        <p>You can use the <MadCap:xref href="GetUserList.htm">GET User List</MadCap:xref> method to check on which users within a group are in "deleting" status or "deleted" status ("deleted" status indicates that all associated operations have completed, including deletion of the user’s stored S3 buckets and objects).</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note &#160;&lt;/b&gt;">Like all service usage report data, service usage report data for a deleted user is retained for a period of time as configured by the <code>reports.rollup.ttl</code> setting in <code>mts.properties.erb</code>. You can retrieve usage data for a recently deleted user via the <MadCap:xref href="../Usage Reporting/GetUsageData.htm">GET Usage Data</MadCap:xref> method. </p>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Request Format</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Syntax</h4><pre xml:space="preserve">DELETE /user?userId=xxx&amp;groupId=xxx</pre>
                <h4>Query Parameters</h4>
                <MadCap:dropDown>
                    <MadCap:dropDownHead class="CloudianChildDropDown">
                        <MadCap:dropDownHotspot>userId</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <div class="Indent">
                            <p>(Mandatory, string) User ID for user to be deleted.</p>
                        </div>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <MadCap:dropDown>
                    <MadCap:dropDownHead class="CloudianChildDropDown">
                        <MadCap:dropDownHotspot>groupId</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody>
                        <div class="Indent">
                            <p>(Mandatory, string) Group ID for user to be deleted.</p>
                            <p>Note that the group ID for system admins (users with system administrator privileges for the Cloudian Management Console) is "0". You can delete system administrator users through this API method. Be careful not to leave yourself with no system administrators. If you do so inadvertently, you can create a new system admin using the <MadCap:xref href="PutNewUser.htm">PUT New User</MadCap:xref> method.</p>
                        </div>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <h4>Request Payload</h4>
                <p>None.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Response Format</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Response Status</h4>
                <p>In addition to the <MadCap:xref href="../CommonStatusCodes.htm">Common Status Codes</MadCap:xref> this method may return these codes:</p>
                <table style="border-collapse: separate;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: 100%;">
                    <col style="width: 115px;">
                    </col>
                    <col style="width: 629px;">
                    </col>
                    <thead>
                        <tr>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Status Code</th>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Missing Required parameters : {userId, groupId}</td>
                        </tr>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">User does not exist</td>
                        </tr>
                    </tbody>
                </table>
                <h4>Response Payload</h4>
                <p>None.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>In this example a user is successfully deleted. Note that the request must include a <code>Content-Type: application/json</code> header even though there is no request body.</p><pre xml:space="preserve"># Request -&gt;

DELETE http://192.168.2.16:18081/user?userId=jgarc&amp;groupId=Dev

# Response -&gt;

Status Code: 200 OK
Content-Length: 0
Date: Tue, 22 Sep 2015 21:54:42 GMT</pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>