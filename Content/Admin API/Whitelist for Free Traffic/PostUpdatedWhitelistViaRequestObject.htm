<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="10" MadCap:lastHeight="1373" MadCap:lastWidth="775">
    <head>
    </head>
    <body>
        <h1>POST Updated Whitelist Via Request Object</h1>
        <p class="TopicTag" MadCap:conditions="General.Online">[Admin API Method]</p>
        <p>Use this Admin API method to update the content of the one existing whitelist that the HyperStore system supports. You can modify the whitelist display name, its assigned rating plan, and the IP address or subnet list itself. You cannot change the unique ID of the whitelist, which is "Default-WL".</p>
        <p>To make your changes you will submit a <MadCap:xref href="../Data Objects/Whitelist.htm">Whitelist</MadCap:xref> JSON object in the request body. IP addresses and subnets within the submitted JSON object are validated for correct syntax. The entire update request will be rejected if any address or subnet fails the syntax validation check. The system does not enforce a limit on the number of IP addresses or subnets that you can include in the list.</p>
        <p>For billing purposes, changes that you make to the composition of the whitelist (by adding or deleting IP addresses or subnets) will take effect starting with the next hourly roll-up of HyperStore usage data.</p>
        <p>In a multi-region HyperStore deployment, the whitelist is applied the same across all regions. There is no support for region-specific whitelists.</p>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note &#160;&lt;/b&gt;">As an alternative to this method you can use the <MadCap:xref href="PostUpdatedWhitelistViaUriParameter.htm">POST Updated Whitelist Via URI Parameter</MadCap:xref> method, which allows you to supply IP addresses in the request URI rather than in the request body. However, that method does not support changing the whitelist’s name or rating plan assignment.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Request Format</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Syntax</h4><pre xml:space="preserve">POST /whitelist</pre>
                <h4>Query Parameters</h4>
                <p>None.</p>
                <h4>Request Payload</h4>
                <p>
                    <MadCap:xref href="../Data Objects/Whitelist.htm">Whitelist</MadCap:xref> JSON object.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Response Format</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <h4>Response Status</h4>
                <p>In addition to the <MadCap:xref href="../CommonStatusCodes.htm" target="_popup">Common Status Codes</MadCap:xref>, this method may return these codes:</p>
                <table style="border-collapse: separate;border-top-left-radius: 0px;border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-bottom-left-radius: 0px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;width: 100%;">
                    <col style="width: 115px;">
                    </col>
                    <col style="width: 629px;">
                    </col>
                    <thead>
                        <tr>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Status Code</th>
                            <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Whitelist does not exist</td>
                        </tr>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Missing required attributes : {id, name, ratingPlanId}</td>
                        </tr>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Invalid JSON object</td>
                        </tr>
                        <tr>
                            <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;text-align: center;">400</td>
                            <td style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;text-align: left;">Invalid IP Address or IPv4 Subnet CIDR: &lt;value&gt;</td>
                        </tr>
                    </tbody>
                </table>
                <h4>Response Payload</h4>
                <p>None.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead class="CloudianParentDropDown">
                <MadCap:dropDownHotspot>Example</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>In this example the list of IP addresses on the whitelist is successfully updated.</p><pre xml:space="preserve"># Request -&gt;

POST http://192.168.2.16:18081/whitelist
Content-Type: application/json
{"ratingPlanId":"Whitelist-RP","list":["192.168.2.10","192.168.2.11","192.168.2.12",
"192.168.2.13"],"name":"Default Whitelist","id":"Default-WL"}

# Response -&gt;
Status Code: 200 OK
Content-Length: 0
Date: Wed, 30 Sep 2015 13:25:09 GMT</pre>
                <p>For more information about Whitelist object attributes, see <MadCap:xref href="../Data Objects/Whitelist.htm">Whitelist</MadCap:xref>.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>