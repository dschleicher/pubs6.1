<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="5" MadCap:lastHeight="1066" MadCap:lastWidth="828">
    <head>
    </head>
    <body>
        <h1>Change Node Role Assignments</h1>
        <p>In a HyperStore cluster there are common services that run on every node in the cluster. These common services include the S3 Service, HyperStore Service, and Cassandra, among others. Specialized support services, by contrast, are installed to and run on only certain nodes. When your cluster is initially installed, the HyperStore installation script automatically distributes these specialized service roles across the cluster in the manner described in the table below.</p>
        <table style="width: 100%;border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;border-collapse: separate;">
            <col style="width: 221px;" />
            <col />
            <thead>
                <tr>
                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Specialized Service </th>
                    <th style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Where It Is Installed</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Redis Credentials master</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;"> 	

One node per entire HyperStore system.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Redis Credentials slave</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Two per data center. If you have a large cluster (25 nodes or more in a data center), consult with Cloudian Support about whether you should add more Redis Credentials slaves. (Note: If you upgraded from a HyperStore version older than 6.0, you will have only one Redis Credentials slave per data center.)

Slaves will not be on same node as Credentials master.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Redis QoS master</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One node per service region.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Redis QoS slave</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One node per data center. Slave will not be on same node as the QoS master.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Redis Monitor</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One primary node and one backup node per entire HyperStore system.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Crontab configuration and Monitoring Data Collector</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One primary node and one backup node per service region.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Local NTP server</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One local (internal) NTP server per service region.</td>
                </tr>
                <tr>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">Puppet Master and config file templates for cluster</td>
                    <td style="border-left-style: solid;border-left-width: 1px;border-right-style: solid;border-right-width: 1px;border-top-style: solid;border-top-width: 1px;border-bottom-style: solid;border-bottom-width: 1px;padding-left: 4px;padding-right: 4px;vertical-align: top;">One primary node and one backup node per entire HyperStore system.</td>
                </tr>
            </tbody>
        </table>
        <p class="Note" MadCap:autonum="&lt;b&gt;Note &#160;&lt;/b&gt;">For introductory information on the role that Redis services play within a HyperStore cluster, see <MadCap:xref href="../../Introduction/HyperStore Services/ServicesRedis.htm" target="_popup">Redis Credentials and Redis QoS Services</MadCap:xref>. For Redis Monitor, see <MadCap:xref href="../../Introduction/HyperStore Services/ServicesRedisMon.htm" target="_popup">Redis Monitor Service</MadCap:xref>. For the others see <MadCap:xref href="../../Introduction/HyperStore Services/ServicesSupport.htm" target="_popup">Supporting Services</MadCap:xref>.<br /><br />To see which nodes in your cluster are hosting specialized services, go to the CMC's <a href="../../Resources/Images/cmc/cluster/ClusterInfo.png" target="_popup">Cluster Information</a> page. <br /><br />When you <a href="../AddNode.htm" target="_popup">add a new node</a> to an existing cluster, only the common services are configured on the node — not any specialized services list above.</p>
        <p>These specialized services are essential to the health and functionality of your HyperStore cluster. At times, you may need to move a specialized service role from one of your nodes to another. An example is if you want to remove from your cluster a node that is running one of these specialized services. In that scenario, you need to move the specialized service away from the node before you remove the node from your cluster.</p>
        <p>As described in the topics in this section, HyperStore allows you to move specialized services from one of your HyperStore nodes to another.</p>
        <ul>
            <li>
                <MadCap:xref href="MoveRedisMaster.htm">Move the Redis Credentials Master or QoS Master Role</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MoveRedisCredentialsSlave.htm">Move or Add a Redis Credentials Slave</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MoveRedisQosSlave.htm">Move a Redis QoS Slave</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MoveRedismon.htm">Move the Redis Monitor Primary or Backup Role</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MoveCrontab.htm">Move the Crontab Primary or Backup Role</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MovePuppetMaster.htm">Move the Puppet Master Primary or Backup Role</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="MoveNtp.htm">Move the Internal NTP Server or Specify External NTP Servers</MadCap:xref>
            </li>
        </ul>
    </body>
</html>